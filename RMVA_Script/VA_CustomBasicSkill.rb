#encoding:utf-8
=begin
#==============================================================================
# ■ 自訂普攻 & 防禦 v1.0
#    最後更新：2018/5/20
#--------------------------------------------------------------------------
#    可自訂普攻和防禦對應的技能
#==============================================================================
#--------------------------------------------------------------------------
# ● 聯絡方式
#--------------------------------------------------------------------------
  http://home.gamer.com.tw/homeindex.php?owner=qootm2
  https://twitter.com/STILILA
#--------------------------------------------------------------------------
# ● 使用法
#--------------------------------------------------------------------------
  在「角色」或「職業」的註解欄輸入：
   <AttackID=n>    # 普攻使用 n 號技能 
   <GuardID=n>     # 防禦使用 n 號技能
   
  ※角色和職業同時設定的情況下，職業的設定優先
  
  
=end

#==============================================================================
# ■ Game_Actor
#------------------------------------------------------------------------------
#==============================================================================

class Game_Actor < Game_Battler
  #--------------------------------------------------------------------------
  # ● 获取普通攻击的技能 ID
  #--------------------------------------------------------------------------
  def attack_skill_id
    skillID = nil
    if actor.note =~ /<AttackID=(\d+)>/
      skillID = $1.to_i
    end
    if self.class.note =~ /<AttackID=(\d+)>/
      skillID = $1.to_i
    end
    if skillID
      return skillID
    else
      super
    end
  end
  #--------------------------------------------------------------------------
  # ● 获取防御的技能 ID
  #--------------------------------------------------------------------------
  def guard_skill_id
    skillID = nil
    if actor.note =~ /<GuardID=(\d+)>/
      skillID = $1.to_i
    end
    if self.class.note =~ /<GuardID=(\d+)>/
      skillID = $1.to_i
    end
    if skillID
      return skillID
    else
      super
    end
  end
end
